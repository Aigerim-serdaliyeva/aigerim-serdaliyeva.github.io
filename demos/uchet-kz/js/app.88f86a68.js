(function(t){function e(e){for(var r,a,i=e[0],c=e[1],u=e[2],l=0,d=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&d.push(s[a][0]),s[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);f&&f(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,a=1;a<n.length;a++){var i=n[a];0!==s[i]&&(r=!1)}r&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},a={app:0},s={app:0},o=[];function i(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-032f965a":"e5fd8410","chunk-043fb196":"d36aa5a8","chunk-2d0c8e41":"874dc368","chunk-2d0d9fbf":"3dbc43ba","chunk-598e3739":"bbe05895","chunk-8f81511a":"9f54dc52","chunk-c4deb686":"630423fd","chunk-ef176d4e":"4d4e85ff"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-032f965a":1,"chunk-043fb196":1,"chunk-598e3739":1,"chunk-ef176d4e":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-032f965a":"51040160","chunk-043fb196":"70e12071","chunk-2d0c8e41":"31d6cfe0","chunk-2d0d9fbf":"31d6cfe0","chunk-598e3739":"51040160","chunk-8f81511a":"31d6cfe0","chunk-c4deb686":"31d6cfe0","chunk-ef176d4e":"51040160"}[t]+".css",s=c.p+r,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var u=o[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===s))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===r||l===s)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||s,o=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[t],f.parentNode.removeChild(f),n(o)},f.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[t]=0})));var r=s[t];if(0!==r)if(r)e.push(r[2]);else{var o=new Promise((function(e,n){r=s[t]=[e,n]}));e.push(r[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=s[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}s[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"01f7":function(t,e,n){},"034f":function(t,e,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},"53d7":function(t,e,n){"use strict";var r=n("01f7"),a=n.n(r);a.a},5452:function(t,e,n){"use strict";var r=n("af35"),a=n.n(r);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r,a=n("2b0e"),s=n("8c4f"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header"),n("MainMenu"),n("main",{staticClass:"page-wrapper"},[n("div",{staticClass:"container"},[n("router-view")],1)]),n("footer",[n("div",{staticClass:"container"},[n("Footer")],1)])],1)},i=[],c=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},u=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header"},[r("div",{staticClass:"container"},[r("img",{attrs:{width:"100",src:n("aa0a"),alt:""}})])])}],l=(n("5452"),n("2877")),d={},f=Object(l["a"])(d,c,u,!1,null,null,null),p=f.exports,h=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},v=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer"},[n("div",{staticClass:"footer__title"},[t._v("@ Aigerim Serdaliyeva 2020")])])}],m=(n("53d7"),{}),g=Object(l["a"])(m,h,v,!1,null,null,null),b=g.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light",class:{"fixed-top":t.isFixed}},[n("div",{staticClass:"container"},[n("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[t._v("ToDo")]),t._m(0),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[t.isAuthorized?n("ul",{staticClass:"navbar-nav"},[n("li",{staticClass:"nav-item dropdown"},[n("a",{staticClass:"nav-link dropdown-toggle",class:{active:t.isTaskPage},attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" Задачи ")]),n("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdown"}},[n("router-link",{staticClass:"dropdown-item",attrs:{to:"/tasks",exact:""}},[t._v("Все задачи")]),n("router-link",{staticClass:"dropdown-item",attrs:{to:"/tasks/completed",exact:""}},[t._v("Выполненные задачи")]),n("router-link",{staticClass:"dropdown-item",attrs:{to:"/tasks/uncompleted",exact:""}},[t._v("Невыполненные задачи")])],1)]),n("router-link",{attrs:{to:"/tasks/add"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.href,a=(e.route,e.navigate),s=e.isExactActive;return[n("li",{class:[s&&"active"]},[n("a",{staticClass:"nav-link",attrs:{href:r},on:{click:a}},[t._v("Добавить задачу")])])]}}],null,!1,3842534133)})],1):n("ul",{staticClass:"navbar-nav ml-auto"},[n("router-link",{attrs:{to:"/login"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.href,a=(e.route,e.navigate),s=e.isExactActive;return[n("li",{class:[s&&"active"]},[n("a",{staticClass:"nav-link",attrs:{href:r},on:{click:a}},[t._v("Логин")])])]}}])}),n("router-link",{attrs:{to:"/registration"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.href,a=(e.route,e.navigate),s=e.isExactActive;return[n("li",{class:[s&&"active"]},[n("a",{staticClass:"nav-link",attrs:{href:r},on:{click:a}},[t._v("Регистрация")])])]}}])})],1),t.isAuthorized?n("ul",{staticClass:"navbar-nav ml-auto"},[n("li",[n("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("Выйти")])])]):t._e()])])]),n("div",{class:{"d-none":!t.isFixed},staticStyle:{height:"56px"}})])},O=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[n("span",{staticClass:"navbar-toggler-icon"})])}],w=n("5530"),_=n("2f62"),j={data:function(){return{isFixed:!1}},mounted:function(){window.addEventListener("scroll",this.onScroll)},destroyed:function(){window.removeEventListener("scroll",this.onScroll)},computed:Object(w["a"])(Object(w["a"])({},Object(_["c"])({isAuthorized:"isAuthorized"})),{},{isTaskPage:function(){return this.$route.meta.isTaskPage},top:function(){return this.$el&&this.$el.offsetTop}}),methods:Object(w["a"])(Object(w["a"])({},Object(_["b"])({logoutUser:"users/logoutUser"})),{},{logout:function(){this.logoutUser(),this.$router.push("/login")},onScroll:function(){this.isFixed=window.pageYOffset>this.top}})},y=j,S=Object(l["a"])(y,k,O,!1,null,null,null),x=S.exports,T={name:"App",components:{MainMenu:x,Footer:b,Header:p}},C=T,E=(n("034f"),Object(l["a"])(C,o,i,!1,null,null,null)),I=E.exports,A=n("7bb1"),U=(n("b0c0"),n("ade3")),z=(n("4de4"),n("7db0"),n("c740"),n("a434"),n("96cf"),n("1da1")),P="ADD_TASK",N="DELETE_TASK",$="EDIT_TASK",R="CHANGE_STATUS",D={namespaced:!0,state:{tasks:JSON.parse(localStorage.getItem("tasks")||"[]")},getters:{tasks:function(t,e,n){var r=t.tasks;return r.filter((function(t){return t.userId===n.authorizedUserId}))},completedTasks:function(t,e,n){var r=t.tasks;return r.filter((function(t){return 1===t.status&&t.userId===n.authorizedUserId}))},uncompletedTasks:function(t,e,n){var r=t.tasks;return r.filter((function(t){return 0===t.status&&t.userId===n.authorizedUserId}))},lastTaskId:function(t){var e=t.tasks;return 0===e.length?0:e[e.length-1].id}},mutations:(r={},Object(U["a"])(r,P,(function(t,e){e.status=0,t.tasks.push(e),localStorage.setItem("tasks",JSON.stringify(t.tasks))})),Object(U["a"])(r,N,(function(t,e){var n=t.tasks.findIndex((function(t){return t.id===e}));n>=0&&t.tasks.splice(n,1),localStorage.setItem("tasks",JSON.stringify(t.tasks))})),Object(U["a"])(r,$,(function(t,e){var n=t.tasks.find((function(t){return t.id===e.id}));n&&(n.title=e.title,n.text=e.text,n.duration=e.duration),localStorage.setItem("tasks",JSON.stringify(t.tasks))})),Object(U["a"])(r,R,(function(t,e){var n=t.tasks.find((function(t){return t.id===e.id}));n&&(n.status=e.status),localStorage.setItem("tasks",JSON.stringify(t.tasks))})),r),actions:{addTask:function(t,e){var n=t.commit,r=t.getters,a=t.rootState;e.userId=a.authorizedUserId,e.id=r.lastTaskId+1,n(P,e)},deleteTask:function(t,e){var n=t.commit;n(N,e)},getTaskById:function(t,e){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.getters.tasks,n.abrupt("return",r.find((function(t){return t.id===e})));case 2:case"end":return n.stop()}}),n)})))()},editTask:function(t,e){var n=t.commit;n($,e)},changeStatus:function(t,e){var n=t.commit;n(R,e)}}},J="REGISTRATE",L={namespaced:!0,state:{users:JSON.parse(localStorage.getItem("users")||"[]")},getters:{users:function(t){var e=t.users;return console.log("users: ",e),e},lastUserId:function(t){var e=t.users;return 0===e.length?0:e[e.length-1].id},authorizedUser:function(t){var e=t.authorizedUserId;return e}},mutations:Object(U["a"])({},J,(function(t,e){t.users.push(e),localStorage.setItem("users",JSON.stringify(t.users))})),actions:{registrateUser:function(t,e){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.commit,a=t.getters,s=a.users,o=s.find((function(t){return t.login===e.login})),!o){n.next=5;break}throw new Error("Такой логин уже существует");case 5:return e.id=a.lastUserId+1,r(J,e),n.abrupt("return",e);case 8:case"end":return n.stop()}}),n)})))()},authorizeUser:function(t,e){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.commit,a=t.getters,s=a.users,o=s.find((function(t){return t.login===e.login&&t.password===e.password})),o){n.next=5;break}throw new Error("Логин или пароль не правильно");case 5:return n.abrupt("return",r(M,o.id,{root:!0}));case 6:case"end":return n.stop()}}),n)})))()},logoutUser:function(t){return Object(z["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.abrupt("return",n(M,0,{root:!0}));case 2:case"end":return e.stop()}}),e)})))()}}};a["a"].use(_["a"]);var M="AUTHORIZE_USER",F=new _["a"].Store({modules:{tasks:D,users:L},state:{authorizedUserId:JSON.parse(sessionStorage.getItem("authorizedUserId")||"0")},getters:{isAuthorized:function(t){var e=t.authorizedUserId;return Boolean(e)}},mutations:Object(U["a"])({},M,(function(t,e){t.authorizedUserId=e,sessionStorage.setItem("authorizedUserId",e)}))}),B=(n("d3b7"),[{path:"/",redirect:"/tasks"},{path:"/login",name:"login",component:function(){return n.e("chunk-2d0c8e41").then(n.bind(null,"578a"))}},{path:"/registration",name:"registration",component:function(){return n.e("chunk-2d0d9fbf").then(n.bind(null,"6a53"))}},{path:"/tasks",name:"tasks",meta:{isTaskPage:!0},component:function(){return n.e("chunk-ef176d4e").then(n.bind(null,"c368"))}},{path:"/tasks/completed",name:"completed",meta:{isTaskPage:!0},component:function(){return n.e("chunk-598e3739").then(n.bind(null,"4e34"))}},{path:"/tasks/uncompleted",name:"uncompleted",meta:{isTaskPage:!0},component:function(){return n.e("chunk-032f965a").then(n.bind(null,"9e28"))}},{path:"/tasks/details/:id",name:"details",meta:{isTaskPage:!0},component:function(){return n.e("chunk-043fb196").then(n.bind(null,"cf0c"))}},{path:"/tasks/add",name:"add",component:function(){return n.e("chunk-8f81511a").then(n.bind(null,"06ce"))}},{path:"/tasks/edit/:id",name:"edit",meta:{isTaskPage:!0},component:function(){return n.e("chunk-c4deb686").then(n.bind(null,"1362"))}}]),H=new s["a"]({linkActiveClass:"active",mode:"history",scrollBehavior:function(){return{x:0,y:0}},routes:B});H.beforeEach((function(t,e,n){var r=F.getters.isAuthorized;return"login"===t.name||"registration"===t.name?r?n("/"):n():r?n():n("/login")}));n("4989");var K=n("4c93");Object(A["c"])("startLatin",{validate:function(t){return/^[A-z].*$/.test(t)},message:"Первый символ должен быть латинской буквой"}),Object(A["c"])("login",{validate:function(t){return/^[A-z0-9]+$/.test(t)},message:"Только латинские буквы и числы"}),Object(A["c"])("required",Object(w["a"])(Object(w["a"])({},K["d"]),{},{message:"Поле обязательно к заполнению"})),Object(A["c"])("confirmed",Object(w["a"])(Object(w["a"])({},K["a"]),{},{message:"Пароль не совпадает"})),Object(A["c"])("numeric",Object(w["a"])(Object(w["a"])({},K["c"]),{},{message:"Это поле должно состоять только из чисел."})),Object(A["c"])("min",Object(w["a"])(Object(w["a"])({},K["b"]),{},{message:"Длина проверяемого поля должна быть не меньше {length} символов."}));n("c1c3");a["a"].use(s["a"]),a["a"].component("ValidationProvider",A["b"]),a["a"].component("ValidationObserver",A["a"]),a["a"].config.productionTip=!1,new a["a"]({router:H,store:F,render:function(t){return t(I)}}).$mount("#app")},"85ec":function(t,e,n){},aa0a:function(t,e,n){t.exports=n.p+"img/task-logo.c6870e1b.png"},af35:function(t,e,n){},c1c3:function(t,e,n){}});
//# sourceMappingURL=app.88f86a68.js.map